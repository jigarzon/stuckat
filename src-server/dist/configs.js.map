{"version":3,"sources":["../src/configs.js"],"names":["runConfig","require","nestedAssign","appConfig","JSON","parse","process","env","APP_CONFIG","clientConfig","serverConfig","common","client","server","module","exports","handleConfigs","app","get","req","res","send"],"mappings":";;AAAA,IAAIA,YAAYC,mCAAhB;AACA,IAAIC,eAAeD,QAAQ,sBAAR,CAAnB;AACA,IAAIE,YAAYC,KAAKC,KAAL,CAAWC,QAAQC,GAAR,CAAYC,UAAvB,CAAhB;AACA,IAAIC,eAAe,EAAnB;AACA,IAAIC,eAAe,EAAnB;AACA,IAAIP,aAAaA,UAAUQ,MAA3B,EAAmC;AACjCT,eAAaO,YAAb,EAA2BN,UAAUQ,MAArC;AACAT,eAAaQ,YAAb,EAA2BP,UAAUQ,MAArC;AACD;AACD,IAAIR,UAAUS,MAAd,EAAsB;AACpBV,eAAaO,YAAb,EAA2BN,UAAUS,MAArC;AACD;AACD,IAAIT,UAAUU,MAAd,EAAsB;AACpBX,eAAaQ,YAAb,EAA2BP,UAAUU,MAArC;AACD;AACDC,OAAOC,OAAP,CAAeZ,SAAf,GAA2BO,YAA3B;AACAI,OAAOC,OAAP,CAAef,SAAf,GAA2BA,SAA3B;;AAEAc,OAAOC,OAAP,CAAeC,aAAf,GAA+B,gBAAmB;AAAA,MAAPC,GAAO,QAAPA,GAAO;;AAChDA,MAAIC,GAAJ,CAAQ,kBAAR,EAA4B,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAC9CA,QAAIC,IAAJ,CAASZ,YAAT;AACD,GAFD;AAGD,CAJD","file":"configs.js","sourcesContent":["var runConfig = require('./public/run_config.json')\nvar nestedAssign = require('nested-object-assign')\nvar appConfig = JSON.parse(process.env.APP_CONFIG)\nvar clientConfig = {}\nvar serverConfig = {}\nif (appConfig && appConfig.common) {\n  nestedAssign(clientConfig, appConfig.common)\n  nestedAssign(serverConfig, appConfig.common)\n}\nif (appConfig.client) {\n  nestedAssign(clientConfig, appConfig.client)\n}\nif (appConfig.server) {\n  nestedAssign(serverConfig, appConfig.server)\n}\nmodule.exports.appConfig = serverConfig\nmodule.exports.runConfig = runConfig\n\nmodule.exports.handleConfigs = function ({ app }) {\n  app.get('/app_config.json', function (req, res) {\n    res.send(clientConfig)\n  })\n}\n"]}